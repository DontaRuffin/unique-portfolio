import{j as a}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.JXKNaeUN.js";import{m as q}from"./proxy.DYGCHi3C.js";const N={nodes:[{id:"design-engineering",title:"Design Engineering",x:400,y:250,vx:0,vy:0,tags:["core"]},{id:"react",title:"React",x:300,y:150,vx:0,vy:0,tags:["frontend"]},{id:"webgpu",title:"WebGPU",x:500,y:150,vx:0,vy:0,tags:["graphics"]},{id:"typescript",title:"TypeScript",x:200,y:250,vx:0,vy:0,tags:["language"]},{id:"ai-tools",title:"AI Tools",x:550,y:300,vx:0,vy:0,tags:["ai"]},{id:"solon-ai",title:"Solon AI",x:450,y:380,vx:0,vy:0,tags:["project"]},{id:"astro",title:"Astro",x:250,y:350,vx:0,vy:0,tags:["framework"]},{id:"digital-garden",title:"Digital Garden",x:350,y:420,vx:0,vy:0,tags:["concept"]},{id:"three-js",title:"Three.js",x:600,y:200,vx:0,vy:0,tags:["graphics"]},{id:"brutalism",title:"Brutalism",x:150,y:180,vx:0,vy:0,tags:["design"]}],links:[{source:"design-engineering",target:"react"},{source:"design-engineering",target:"webgpu"},{source:"design-engineering",target:"typescript"},{source:"react",target:"astro"},{source:"webgpu",target:"three-js"},{source:"ai-tools",target:"solon-ai"},{source:"design-engineering",target:"ai-tools"},{source:"astro",target:"digital-garden"},{source:"solon-ai",target:"typescript"},{source:"brutalism",target:"design-engineering"},{source:"digital-garden",target:"design-engineering"}]},A={core:"#FF6B35",frontend:"#7C3AED",graphics:"#06B6D4",language:"#000000",ai:"#F472B6",project:"#A3E635",framework:"#EAB308",concept:"#8B5CF6",design:"#EC4899"};function U(){const p=o.useRef(null),w=o.useRef(0),v=o.useRef([...N.nodes]),[b,B]=o.useState(null),[h,D]=o.useState({width:800,height:500}),R=o.useRef(!1),d=o.useRef(null),T=8e3,G=100,F=.03,k=.9,j=.01,M=o.useCallback(()=>{const r=v.current,e=N.links,l=h.width/2,x=h.height/2;r.forEach((t,u)=>{if(d.current?.id===t.id)return;let s=0,n=0;r.forEach((i,c)=>{if(u===c)return;const g=t.x-i.x,y=t.y-i.y,f=Math.sqrt(g*g+y*y)||1,m=T/(f*f);s+=g/f*m,n+=y/f*m}),e.forEach(i=>{let c;if(i.source===t.id?c=r.find(g=>g.id===i.target):i.target===t.id&&(c=r.find(g=>g.id===i.source)),c){const g=c.x-t.x,y=c.y-t.y,f=Math.sqrt(g*g+y*y)||1,m=(f-G)*F;s+=g/f*m,n+=y/f*m}}),s+=(l-t.x)*j,n+=(x-t.y)*j,t.vx=(t.vx+s)*k,t.vy=(t.vy+n)*k,t.x+=t.vx,t.y+=t.vy,t.x=Math.max(50,Math.min(h.width-50,t.x)),t.y=Math.max(50,Math.min(h.height-50,t.y))})},[h]),S=o.useCallback(()=>{const r=p.current;if(!r)return;const e=r.getContext("2d");if(!e)return;const l=v.current,x=N.links;e.clearRect(0,0,r.width,r.height),e.strokeStyle="#000000",e.lineWidth=2,x.forEach(t=>{const u=l.find(n=>n.id===t.source),s=l.find(n=>n.id===t.target);u&&s&&(e.beginPath(),e.moveTo(u.x,u.y),e.lineTo(s.x,s.y),e.stroke())}),l.forEach(t=>{const u=b?.id===t.id,s=u?12:8,n=t.tags?.[0]||"core",i=A[n]||"#000000";e.fillStyle=i,e.strokeStyle="#000000",e.lineWidth=2,e.fillRect(t.x-s,t.y-s,s*2,s*2),e.strokeRect(t.x-s,t.y-s,s*2,s*2),u&&(e.fillStyle="#000000",e.fillRect(t.x-s+4,t.y-s+4,s*2,s*2),e.fillStyle=i,e.fillRect(t.x-s,t.y-s,s*2,s*2),e.strokeRect(t.x-s,t.y-s,s*2,s*2)),e.fillStyle="#000000",e.font=`${u?"bold ":""}12px "JetBrains Mono", monospace`,e.textAlign="center",e.textBaseline="top",e.fillText(t.title,t.x,t.y+s+6)})},[b]),E=o.useCallback(()=>{M(),S(),w.current=requestAnimationFrame(E)},[M,S]);o.useEffect(()=>{const r=()=>{const e=p.current?.parentElement;e&&D({width:e.clientWidth,height:e.clientHeight})};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),o.useEffect(()=>(w.current=requestAnimationFrame(E),()=>cancelAnimationFrame(w.current)),[E]);const L=r=>{const e=p.current;if(!e)return;const l=e.getBoundingClientRect(),x=r.clientX-l.left,t=r.clientY-l.top;if(R.current&&d.current){d.current.x=x,d.current.y=t,d.current.vx=0,d.current.vy=0;return}const s=v.current.find(n=>{const i=n.x-x,c=n.y-t;return Math.sqrt(i*i+c*c)<20});B(s||null)},P=r=>{const e=p.current;if(!e)return;const l=e.getBoundingClientRect(),x=r.clientX-l.left,t=r.clientY-l.top,s=v.current.find(n=>{const i=n.x-x,c=n.y-t;return Math.sqrt(i*i+c*c)<20});s&&(R.current=!0,d.current=s)},C=()=>{R.current=!1,d.current=null};return a.jsxs("div",{className:"relative w-full h-[500px] border-3 border-brutal-black bg-brutal-white shadow-brutal",children:[a.jsx("div",{className:"absolute top-4 left-4 z-10 px-3 py-2 bg-brutal-white border-2 border-brutal-black",children:a.jsx("span",{className:"font-mono text-xs uppercase tracking-wider",children:"System Map // v1.0"})}),a.jsx("div",{className:"absolute top-4 right-4 z-10 px-3 py-2 bg-brutal-white border-2 border-brutal-black",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(A).slice(0,4).map(([r,e])=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 border border-brutal-black",style:{backgroundColor:e}}),a.jsx("span",{className:"font-mono text-[10px] uppercase",children:r})]},r))})}),a.jsx("canvas",{ref:p,width:h.width,height:h.height,className:"w-full h-full cursor-crosshair",onMouseMove:L,onMouseDown:P,onMouseUp:C,onMouseLeave:C}),b&&a.jsxs(q.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"absolute bottom-4 left-4 px-4 py-2 bg-brutal-black text-brutal-white border-3 border-brutal-black",children:[a.jsx("p",{className:"font-display font-bold text-sm",children:b.title}),a.jsx("p",{className:"font-mono text-xs text-gray-400 uppercase",children:"Click to explore â†’"})]})]})}export{U as default};
